---
sidebar_position: 3
---

# Messages

Properties related to messages.

### `initialMessages` {#initialMessages}

- Type: [`MessageContent[]`](#MessageContent)

Messages that are prepopulated when the chat view loads up. This is most useful for displaying past messages and continuing a conversation.

import ComponentContainer from '@site/src/components/table/componentContainer';
import DeepChatBrowser from '@site/src/components/table/deepChatBrowser';
import LineBreak from '@site/src/components/markdown/lineBreak';
import BrowserOnly from '@docusaurus/BrowserOnly';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

<BrowserOnly>{() => require('@site/src/components/nav/autoNavToggle').readdAutoNavShadowToggle()}</BrowserOnly>

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {text: 'Beautiful city', role: 'user'},
      {file: {src: '/img/city.jpeg', type: 'image'}, role: 'ai'},
      {text: `What's on your mind?`, role: 'user'},
      {text: 'Peace and tranquility', role: 'ai'},
    ]}
    containerStyle={{height: '370px'}}
    service={{custom: {demo: true}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

### `introMessage` {#introMessage}

- Type: `string`

Initial `ai` message that is displayed when the chat is loaded. It is different to [`initialMessages`](HERE) as it will not trigger
the [`onNewMessage`](HERE) event and will not be part of the returned messages when the [`getMessages`](HERE) method is called.

#### Example

<ComponentContainer>
  <DeepChatBrowser
    introMessage={`Hi I'm an AiAssistant, ask me anything!`}
    service={{custom: {demo: true}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

### `avatars` {#avatars}

- Type: `true` | {[`default?: Avatar*`](#Avatar), [`ai?: Avatar`](#Avatar), [`user?: Avatar`](#Avatar)}

Used to configure the placement of avatars beside messages. You can simply enable this by using _true_
or by setting an object. The `default` property's object does not contain `src` and is used to define
features that will be applied to both `ai` and `user`.

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {text: 'Hey, how are you?', role: 'user'},
      {text: 'I am doing great, how about you?', role: 'ai'},
      {text: 'What is the meaning of life?', role: 'user'},
      {
        text: 'This ultimately depends on the person, but it could be the pursuit of happiness or fulfillment.',
        role: 'ai',
      },
    ]}
    service={{custom: {demo: true}}}
    avatars={true}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

#### `Avatar` {#Avatar}

- Type: {<br />
  &nbsp;&nbsp;&nbsp;&nbsp; `src?: string`, <br />
  &nbsp;&nbsp;&nbsp;&nbsp; `styles?: {` <br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [`avatar?: CustomStyle`](./sharedTypes/#CustomStyle), <br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [`container?: CustomStyle`](./sharedTypes/#CustomStyle) <br />
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `position?: "left" | "right"` <br />
  }}

This object is used to set the features of an avatar that is to be displayed beside messages. <br />
`src` is the path to a custom avatar image file. <br />
`avatar` property is used to configure the avatar element's properties. <br />
`container` is the styling for the element that encapsulates the avatar element. <br />
`position` defines which side of the message the avatar is going to be displayed.

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {text: 'Hey, how are you?', role: 'user'},
      {text: 'I am doing great, how about you?', role: 'ai'},
      {text: 'What is the meaning of life?', role: 'user'},
      {
        text: 'This ultimately depends on the person, but it could be the pursuit of happiness or fulfillment.',
        role: 'ai',
      },
    ]}
    avatars={{
      default: {styles: {avatar: {height: '30px', width: '30px'}, container: {marginTop: '8px'}}},
      ai: {src: '/img/ai-brain.svg', styles: {avatar: {marginLeft: '-3px'}}},
    }}
    service={{custom: {demo: true}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

### `names` {#names}

- Type: `true` | {[`default?: Name*`](#Name), [`ai?: Name`](#Name), [`user?: Name`](#Name)}

Used to configure the placement of names beside messages. You can simply enable this by using _true_
or by setting an object. The `default` property's object does not contain `text` and is used to define
features that will be applied to both `ai` and `user`. <br />

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {text: 'Hey, how are you?', role: 'user'},
      {text: 'I am doing great, how about you?', role: 'ai'},
      {text: 'What is the meaning of life?', role: 'user'},
      {
        text: 'This ultimately depends on the person, but it could be the pursuit of happiness or fulfillment.',
        role: 'ai',
      },
    ]}
    service={{custom: {demo: true}}}
    names={true}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

#### `Name` {#Name}

- Type: {<br />
  &nbsp;&nbsp;&nbsp;&nbsp; `text?: string`, <br />
  &nbsp;&nbsp;&nbsp;&nbsp; [`style?: CustomStyle`](./sharedTypes/#CustomStyle), <br />
  &nbsp;&nbsp;&nbsp;&nbsp; `position?: "left" | "right"` <br />
  }

This object is used to set the features of the name element that will be displayed beside a message. <br />
`text` contains the name string. <br />
`style` is used to define the style of the name element. <br />
`position` defines which side of the message the name is going to be displayed.

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {text: 'Hey, how are you?', role: 'user'},
      {text: 'I am doing great, how about you?', role: 'ai'},
      {text: 'What is the meaning of life?', role: 'user'},
      {
        text: 'This ultimately depends on the person, but it could be the pursuit of happiness or fulfillment.',
        role: 'ai',
      },
    ]}
    service={{custom: {demo: true}}}
    names={{default: {style: {fontSize: '18px', marginTop: '14px'}}, ai: {text: 'You'}, user: {text: 'Me'}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

### `displayLoadingBubble` {#displayLoadingBubble}

- Type: `boolean`

Toggle whether the loading bubble should be displayed when waiting for a message response.

#### Example

<ComponentContainer>
  <DeepChatBrowser
    introMessage={'Please send a new message to observe a response with no loading bubble.'}
    displayLoadingBubble={false}
    service={{custom: {demo: true}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

:::info
When this is set to _false_ and [submit button's](./input/#submitButtonStyles) `loading` property's `content` string for `text` or `svg` is not set,
the submit button will have a loading animation.
:::

### `errorMessageOverrides` {#ErrorMessageOverrides}

- Type: {<br />
  &nbsp;&nbsp;&nbsp;&nbsp; `default?: string`, <br />
  &nbsp;&nbsp;&nbsp;&nbsp; `service?: string`, <br />
  &nbsp;&nbsp;&nbsp;&nbsp; `speechToTextInput?: string` <br />
  }
- Default: _{ default: "Error, please try again." }_

AiAssistant displays an error message when something goes wrong. You can overwrite the text of these messages for a variety of scenarios. <br />
`default` is used for every error type in the chat. <br />
`service` is an error that is displayed when there is a problem with the service communication. <br />
`speechToTextInput` error is displayed when there is a problem using the [`speechToTextInput`](HERE) microphone functionality. <br />

#### Example

<ComponentContainer>
  <DeepChatBrowser
    service={{custom: {demo: {displayErrors: {service: true, speechToTextInput: true}}}}}
    errorMessageOverrides={{
      service: 'Service error!',
      speechToTextInput: 'Speech to text microphone error!',
    }}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

## Types

Shared object property types related to messages:

### `MessageContent` {#MessageContent}

- Type: <br />
  &nbsp;&nbsp;&nbsp;&nbsp; | {[`role: MessageRole`](#MessageRole), `text: string`} <br />
  &nbsp;&nbsp;&nbsp;&nbsp; | {[`role: MessageRole`](#MessageRole), `file: MessageFile`}

Format used to encapsulate each message within AiAssistant. It uses EITHER ONE of the object types above where `text`
or `file` property is defined. <br />
The component analyzes the `text` string for [Markdown](https://www.markdownguide.org/basic-syntax/) properties
and renders the message accordingly. This is useful for displaying code snippets, paragraphs etc. Use this [Playground](https://jonschlinkert.github.io/remarkable/demo/) for reference. <br />

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {
        text: '```java\nwhile (i < 5) {\n console.log("hi");\n i+= 1;\n}\n```',
        role: 'ai',
      },
    ]}
    messageStyles={{
      default: {
        shared: {
          bubble: {maxWidth: '270px'},
        },
      },
    }}
    service={{custom: {demo: true}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

### `MessageRole` {#MessageRole}

- Type: `"ai"` | `"user"`

Entity that has sent the message.

<LineBreak></LineBreak>

### `MessageFile` {#MessageFile}

- Type: {`name?: string`, [`type?: MessageFileType`](#MessageFileType)} & <br />
  &nbsp | {`src: string`} <br />
  &nbsp | {`base64: string`} <br />

- Default: _{type: "any", name: "file"}_

Format that defines the properties for a single file. <br />
The `name` property displays the file name inside the message bubble when `type` is not defined or is set to _"any"_. <br />
You can optionally define its `type` to help AiAssistant render it inside an interative media bubble. <br />
Interactive media bubbles need EITHER `src` (path to the file) or `base64` (binary encoding).

#### Example

<ComponentContainer>
  <DeepChatBrowser
    initialMessages={[
      {file: {src: '/img/city.jpeg', type: 'image'}, role: 'user'},
      {file: {src: '/audio/cantinaBand.wav', type: 'audio'}, role: 'user'},
      {file: {src: '/text/text.txt', name: 'hello-world.txt', type: 'file'}, role: 'user'},
    ]}
    service={{custom: {demo: true}}}
  ></DeepChatBrowser>
</ComponentContainer>

<LineBreak></LineBreak>

:::info
_"image"_ and _"any"_ file types containing a `src` property will automatically be wrapped inside a hyperlink.
:::

<LineBreak></LineBreak>

### `MessageFileType` {#MessageFileType}

- Type: `"image"` | `"audio"` | `"any"`

Type of a file stored inside a message. _"any"_ is the default type.

<LineBreak></LineBreak>
